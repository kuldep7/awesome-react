import b from"node:fs";import F from"node:path";import{fileURLToPath as Qt}from"node:url";import ei from"readline";import ti from"events";import ii from"child_process";import me from"path";import ge from"fs";var si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ee(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ri(t,e){var i=t;e.slice(0,-1).forEach(function(o){i=i[o]||{}});var s=e[e.length-1];return s in i}function ze(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function We(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}var ni=function(t,e){e||(e={});var i={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(i.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?i.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(f){i.bools[f]=!0});var s={};function o(f){return s[f].some(function(x){return i.bools[x]})}Object.keys(e.alias||{}).forEach(function(f){s[f]=[].concat(e.alias[f]),s[f].forEach(function(x){s[x]=[f].concat(s[f].filter(function(O){return x!==O}))})}),[].concat(e.string).filter(Boolean).forEach(function(f){i.strings[f]=!0,s[f]&&[].concat(s[f]).forEach(function(x){i.strings[x]=!0})});var n=e.default||{},r={_:[]};function l(f,x){return i.allBools&&/^--[^=]+$/.test(x)||i.strings[f]||i.bools[f]||s[f]}function u(f,x,O){for(var g=f,V=0;V<x.length-1;V++){var P=x[V];if(We(g,P))return;g[P]===void 0&&(g[P]={}),(g[P]===Object.prototype||g[P]===Number.prototype||g[P]===String.prototype)&&(g[P]={}),g[P]===Array.prototype&&(g[P]=[]),g=g[P]}var M=x[x.length-1];We(g,M)||((g===Object.prototype||g===Number.prototype||g===String.prototype)&&(g={}),g===Array.prototype&&(g=[]),g[M]===void 0||i.bools[M]||typeof g[M]=="boolean"?g[M]=O:Array.isArray(g[M])?g[M].push(O):g[M]=[g[M],O])}function a(f,x,O){if(!(O&&i.unknownFn&&!l(f,O)&&i.unknownFn(O)===!1)){var g=!i.strings[f]&&ze(x)?Number(x):x;u(r,f.split("."),g),(s[f]||[]).forEach(function(V){u(r,V.split("."),g)})}}Object.keys(i.bools).forEach(function(f){a(f,n[f]===void 0?!1:n[f])});var d=[];t.indexOf("--")!==-1&&(d=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var p=0;p<t.length;p++){var c=t[p],h,m;if(/^--.+=/.test(c)){var C=c.match(/^--([^=]+)=([\s\S]*)$/);h=C[1];var R=C[2];i.bools[h]&&(R=R!=="false"),a(h,R,c)}else if(/^--no-.+/.test(c))h=c.match(/^--no-(.+)/)[1],a(h,!1,c);else if(/^--.+/.test(c))h=c.match(/^--(.+)/)[1],m=t[p+1],m!==void 0&&!/^(-|--)[^-]/.test(m)&&!i.bools[h]&&!i.allBools&&(!s[h]||!o(h))?(a(h,m,c),p+=1):/^(true|false)$/.test(m)?(a(h,m==="true",c),p+=1):a(h,i.strings[h]?"":!0,c);else if(/^-[^-]+/.test(c)){for(var S=c.slice(1,-1).split(""),W=!1,E=0;E<S.length;E++){if(m=c.slice(E+2),m==="-"){a(S[E],m,c);continue}if(/[A-Za-z]/.test(S[E])&&m[0]==="="){a(S[E],m.slice(1),c),W=!0;break}if(/[A-Za-z]/.test(S[E])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(m)){a(S[E],m,c),W=!0;break}if(S[E+1]&&S[E+1].match(/\W/)){a(S[E],c.slice(E+2),c),W=!0;break}else a(S[E],i.strings[S[E]]?"":!0,c)}h=c.slice(-1)[0],!W&&h!=="-"&&(t[p+1]&&!/^(-|--)[^-]/.test(t[p+1])&&!i.bools[h]&&(!s[h]||!o(h))?(a(h,t[p+1],c),p+=1):t[p+1]&&/^(true|false)$/.test(t[p+1])?(a(h,t[p+1]==="true",c),p+=1):a(h,i.strings[h]?"":!0,c))}else if((!i.unknownFn||i.unknownFn(c)!==!1)&&r._.push(i.strings._||!ze(c)?c:Number(c)),e.stopEarly){r._.push.apply(r._,t.slice(p+1));break}}return Object.keys(n).forEach(function(f){ri(r,f.split("."))||(u(r,f.split("."),n[f]),(s[f]||[]).forEach(function(x){u(r,x.split("."),n[f])}))}),e["--"]?r["--"]=d.slice():d.forEach(function(f){r._.push(f)}),r};const oi=ee(ni);var Ge={};const{FORCE_COLOR:li,NODE_DISABLE_COLORS:ai,TERM:ci}=process.env,v={enabled:!ai&&ci!=="dumb"&&li!=="0",reset:y(0,0),bold:y(1,22),dim:y(2,22),italic:y(3,23),underline:y(4,24),inverse:y(7,27),hidden:y(8,28),strikethrough:y(9,29),black:y(30,39),red:y(31,39),green:y(32,39),yellow:y(33,39),blue:y(34,39),magenta:y(35,39),cyan:y(36,39),white:y(37,39),gray:y(90,39),grey:y(90,39),bgBlack:y(40,49),bgRed:y(41,49),bgGreen:y(42,49),bgYellow:y(43,49),bgBlue:y(44,49),bgMagenta:y(45,49),bgCyan:y(46,49),bgWhite:y(47,49)};function Ke(t,e){let i=0,s,o="",n="";for(;i<t.length;i++)s=t[i],o+=s.open,n+=s.close,e.includes(s.close)&&(e=e.replace(s.rgx,s.close+s.open));return o+e+n}function hi(t,e){let i={has:t,keys:e};return i.reset=v.reset.bind(i),i.bold=v.bold.bind(i),i.dim=v.dim.bind(i),i.italic=v.italic.bind(i),i.underline=v.underline.bind(i),i.inverse=v.inverse.bind(i),i.hidden=v.hidden.bind(i),i.strikethrough=v.strikethrough.bind(i),i.black=v.black.bind(i),i.red=v.red.bind(i),i.green=v.green.bind(i),i.yellow=v.yellow.bind(i),i.blue=v.blue.bind(i),i.magenta=v.magenta.bind(i),i.cyan=v.cyan.bind(i),i.white=v.white.bind(i),i.gray=v.gray.bind(i),i.grey=v.grey.bind(i),i.bgBlack=v.bgBlack.bind(i),i.bgRed=v.bgRed.bind(i),i.bgGreen=v.bgGreen.bind(i),i.bgYellow=v.bgYellow.bind(i),i.bgBlue=v.bgBlue.bind(i),i.bgMagenta=v.bgMagenta.bind(i),i.bgCyan=v.bgCyan.bind(i),i.bgWhite=v.bgWhite.bind(i),i}function y(t,e){let i={open:`\x1B[${t}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(s){return this!==void 0&&this.has!==void 0?(this.has.includes(t)||(this.has.push(t),this.keys.push(i)),s===void 0?this:v.enabled?Ke(this.keys,s+""):s+""):s===void 0?hi([t],[i]):v.enabled?Ke([i],s+""):s+""}}var D=v,ui=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}},ve=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return typeof t=="string"?t.replace(i,""):t};const we="\x1B",$=`${we}[`,di="\x07",be={to(t,e){return e?`${$}${e+1};${t+1}H`:`${$}${t+1}G`},move(t,e){let i="";return t<0?i+=`${$}${-t}D`:t>0&&(i+=`${$}${t}C`),e<0?i+=`${$}${-e}A`:e>0&&(i+=`${$}${e}B`),i},up:(t=1)=>`${$}${t}A`,down:(t=1)=>`${$}${t}B`,forward:(t=1)=>`${$}${t}C`,backward:(t=1)=>`${$}${t}D`,nextLine:(t=1)=>`${$}E`.repeat(t),prevLine:(t=1)=>`${$}F`.repeat(t),left:`${$}G`,hide:`${$}?25l`,show:`${$}?25h`,save:`${we}7`,restore:`${we}8`},fi={up:(t=1)=>`${$}S`.repeat(t),down:(t=1)=>`${$}T`.repeat(t)},pi={screen:`${$}2J`,up:(t=1)=>`${$}1J`.repeat(t),down:(t=1)=>`${$}J`.repeat(t),line:`${$}2K`,lineEnd:`${$}K`,lineStart:`${$}1K`,lines(t){let e="";for(let i=0;i<t;i++)e+=this.line+(i<t-1?be.up():"");return t&&(e+=be.left),e}};var I={cursor:be,scroll:fi,erase:pi,beep:di};const mi=ve,{erase:qe,cursor:gi}=I,vi=t=>[...mi(t)].length;var wi=function(t,e){if(!e)return qe.line+gi.to(0);let i=0;const s=t.split(/\r?\n/);for(let o of s)i+=1+Math.floor(Math.max(vi(o)-1,0)/e);return qe.lines(i)};const te={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},bi={arrowUp:te.arrowUp,arrowDown:te.arrowDown,arrowLeft:te.arrowLeft,arrowRight:te.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},yi=process.platform==="win32"?bi:te;var Ze=yi;const G=D,U=Ze,ye=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),$i=t=>ye[t]||ye.default,ie=Object.freeze({aborted:G.red(U.cross),done:G.green(U.tick),exited:G.yellow(U.cross),default:G.cyan("?")}),xi=(t,e,i)=>e?ie.aborted:i?ie.exited:t?ie.done:ie.default,Si=t=>G.gray(t?U.ellipsis:U.pointerSmall),Ei=(t,e)=>G.gray(t?e?U.pointerSmall:"+":U.line);var Oi={styles:ye,render:$i,symbols:ie,symbol:xi,delimiter:Si,item:Ei};const Ci=ve;var Ti=function(t,e){let i=String(Ci(t)||"").split(/\r?\n/);return e?i.map(s=>Math.ceil(s.length/e)).reduce((s,o)=>s+o):i.length},Pi=(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(t||"").split(/\r?\n/g).map(o=>o.split(/\s+/g).reduce((n,r)=>(r.length+i.length>=s||n[n.length-1].length+r.length+1<s?n[n.length-1]+=` ${r}`:n.push(`${i}${r}`),n),[i]).join(`
`)).join(`
`)},Mi=(t,e,i)=>{i=i||e;let s=Math.min(e-i,t-Math.floor(i/2));s<0&&(s=0);let o=Math.min(s+i,e);return{startIndex:s,endIndex:o}},j={action:ui,clear:wi,style:Oi,strip:ve,figures:Ze,lines:Ti,wrap:Pi,entriesToDisplay:Mi};const Xe=ei,{action:Di}=j,Ii=ti,{beep:ji,cursor:_i}=I,Ai=D;let Ri=class extends Ii{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);const i=Xe.createInterface({input:this.in,escapeCodeTimeout:50});Xe.emitKeypressEvents(this.in,i),this.in.isTTY&&this.in.setRawMode(!0);const s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,o=(n,r)=>{let l=Di(r,s);l===!1?this._&&this._(n,r):typeof this[l]=="function"?this[l](r):this.bell()};this.close=()=>{this.out.write(_i.show),this.in.removeListener("keypress",o),this.in.isTTY&&this.in.setRawMode(!1),i.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",o)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(ji)}render(){this.onRender(Ai),this.firstRender&&(this.firstRender=!1)}};var Y=Ri;const le=D,Fi=Y,{erase:Ni,cursor:se}=I,{style:$e,clear:xe,lines:ki,figures:Li}=j;class Yi extends Fi{constructor(e={}){super(e),this.transform=$e.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=xe("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=le.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,i){let s=this.value.slice(0,this.cursor),o=this.value.slice(this.cursor);this.value=`${s}${e}${o}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),i=this.value.slice(this.cursor);this.value=`${e}${i}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor+1);this.value=`${e}${i}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(se.down(ki(this.outputError,this.out.columns)-1)+xe(this.outputError,this.out.columns)),this.out.write(xe(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[$e.symbol(this.done,this.aborted),le.bold(this.msg),$e.delimiter(this.done),this.red?le.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,i,s)=>e+`
${s?" ":Li.pointerSmall} ${le.red().italic(i)}`,"")),this.out.write(Ni.line+se.to(0)+this.outputText+se.save+this.outputError+se.restore+se.move(this.cursorOffset,0)))}}var Hi=Yi;const N=D,Bi=Y,{style:Qe,clear:et,figures:ae,wrap:Vi,entriesToDisplay:Ji}=j,{cursor:Ui}=I;class zi extends Bi{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((i,s)=>(typeof i=="string"&&(i={title:i,value:s}),{title:i&&(i.title||i.value||i),value:i&&(i.value===void 0?s:i.value),description:i&&i.description,selected:i&&i.selected,disabled:i&&i.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=et("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,i){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Ui.hide):this.out.write(et(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:i}=Ji(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[Qe.symbol(this.done,this.aborted),N.bold(this.msg),Qe.delimiter(!1),this.done?this.selection.title:this.selection.disabled?N.yellow(this.warn):N.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=e;s<i;s++){let o,n,r="",l=this.choices[s];s===e&&e>0?n=ae.arrowUp:s===i-1&&i<this.choices.length?n=ae.arrowDown:n=" ",l.disabled?(o=this.cursor===s?N.gray().underline(l.title):N.strikethrough().gray(l.title),n=(this.cursor===s?N.bold().gray(ae.pointer)+" ":"  ")+n):(o=this.cursor===s?N.cyan().underline(l.title):l.title,n=(this.cursor===s?N.cyan(ae.pointer)+" ":"  ")+n,l.description&&this.cursor===s&&(r=` - ${l.description}`,(n.length+o.length+r.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(r=`
`+Vi(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${o}${N.gray(r)}
`}}this.out.write(this.outputText)}}var Wi=zi;const ce=D,Gi=Y,{style:tt,clear:Ki}=j,{cursor:it,erase:qi}=I;class Zi extends Gi{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,i){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(it.hide):this.out.write(Ki(this.outputText,this.out.columns)),super.render(),this.outputText=[tt.symbol(this.done,this.aborted),ce.bold(this.msg),tt.delimiter(this.done),this.value?this.inactive:ce.cyan().underline(this.inactive),ce.gray("/"),this.value?ce.cyan().underline(this.active):this.active].join(" "),this.out.write(qi.line+it.to(0)+this.outputText))}}var Xi=Zi;let Qi=class Ue{constructor({token:e,date:i,parts:s,locales:o}){this.token=e,this.date=i||new Date,this.parts=s||[this],this.locales=o||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find((i,s)=>s>e&&i instanceof Ue)}setTo(e){}prev(){let e=[].concat(this.parts).reverse();const i=e.indexOf(this);return e.find((s,o)=>o>i&&s instanceof Ue)}toString(){return String(this.date)}};var k=Qi;const es=k;let ts=class extends es{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};var is=ts;const ss=k,rs=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th");let ns=class extends ss{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),i=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+rs(e):this.token==="d"?i+1:this.token==="ddd"?this.locales.weekdaysShort[i]:this.token==="dddd"?this.locales.weekdays[i]:e}};var os=ns;const ls=k;let as=class extends ls{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};var cs=as;const hs=k;let us=class extends hs{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};var ds=us;const fs=k;let ps=class extends fs{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};var ms=ps;const gs=k;let vs=class extends gs{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),i=this.token.length;return i===2?String(e+1).padStart(2,"0"):i===3?this.locales.monthsShort[e]:i===4?this.locales.months[e]:String(e+1)}};var ws=vs;const bs=k;let ys=class extends bs{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};var $s=ys;const xs=k;let Ss=class extends xs{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};var Es=Ss,Os={DatePart:k,Meridiem:is,Day:os,Hours:cs,Milliseconds:ds,Minutes:ms,Month:ws,Seconds:$s,Year:Es};const Se=D,Cs=Y,{style:st,clear:rt,figures:Ts}=j,{erase:Ps,cursor:nt}=I,{DatePart:ot,Meridiem:Ms,Day:Ds,Hours:Is,Milliseconds:js,Minutes:_s,Month:As,Seconds:Rs,Year:Fs}=Os,Ns=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,lt={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new Ds(t),3:t=>new As(t),4:t=>new Fs(t),5:t=>new Ms(t),6:t=>new Is(t),7:t=>new _s(t),8:t=>new Rs(t),9:t=>new js(t)},ks={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class Ls extends Cs{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(ks,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=rt("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let i;for(this.parts=[];i=Ns.exec(e);){let o=i.shift(),n=i.findIndex(r=>r!=null);this.parts.push(n in lt?lt[n]({token:i[n]||o,date:this.date,parts:this.parts,locales:this.locales}):i[n]||o)}let s=this.parts.reduce((o,n)=>(typeof n=="string"&&typeof o[o.length-1]=="string"?o[o.length-1]+=n:o.push(n),o),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof ot)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(i=>i instanceof ot)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(nt.hide):this.out.write(rt(this.outputText,this.out.columns)),super.render(),this.outputText=[st.symbol(this.done,this.aborted),Se.bold(this.msg),st.delimiter(!1),this.parts.reduce((e,i,s)=>e.concat(s===this.cursor&&!this.done?Se.cyan().underline(i.toString()):i),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,i,s)=>e+`
${s?" ":Ts.pointerSmall} ${Se.red().italic(i)}`,"")),this.out.write(Ps.line+nt.to(0)+this.outputText))}}var Ys=Ls;const he=D,Hs=Y,{cursor:ue,erase:Bs}=I,{style:Ee,figures:Vs,clear:at,lines:Js}=j,Us=/[0-9]/,Oe=t=>t!==void 0,ct=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i};class zs extends Hs{constructor(e={}){super(e),this.transform=Ee.render(e.style),this.msg=e.message,this.initial=Oe(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Oe(e.min)?e.min:-1/0,this.max=Oe(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=he.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${ct(e,this.round)}`),this._value=ct(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Us.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,i){if(!this.valid(e))return this.bell();const s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=s,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ue.down(Js(this.outputError,this.out.columns)-1)+at(this.outputError,this.out.columns)),this.out.write(at(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ee.symbol(this.done,this.aborted),he.bold(this.msg),Ee.delimiter(this.done),!this.done||!this.done&&!this.placeholder?he[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,i,s)=>e+`
${s?" ":Vs.pointerSmall} ${he.red().italic(i)}`,"")),this.out.write(Bs.line+ue.to(0)+this.outputText+ue.save+this.outputError+ue.restore))}}var Ws=zs;const _=D,{cursor:Gs}=I,Ks=Y,{clear:ht,figures:H,style:ut,wrap:qs,entriesToDisplay:Zs}=j;let Xs=class extends Ks{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((i,s)=>(typeof i=="string"&&(i={title:i,value:s}),{title:i&&(i.title||i.value||i),description:i&&i.description,value:i&&(i.value===void 0?s:i.value),selected:i&&i.selected,disabled:i&&i.disabled})),this.clear=ht("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const e=this.value.filter(i=>i.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const e=!this.value[this.cursor].selected;this.value.filter(i=>!i.disabled).forEach(i=>i.selected=e),this.render()}_(e,i){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${H.arrowUp}/${H.arrowDown}: Highlight option
    ${H.arrowLeft}/${H.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,i,s,o){const n=(i.selected?_.green(H.radioOn):H.radioOff)+" "+o+" ";let r,l;return i.disabled?r=e===s?_.gray().underline(i.title):_.strikethrough().gray(i.title):(r=e===s?_.cyan().underline(i.title):i.title,e===s&&i.description&&(l=` - ${i.description}`,(n.length+r.length+l.length>=this.out.columns||i.description.split(/\r?\n/).length>1)&&(l=`
`+qs(i.description,{margin:n.length,width:this.out.columns})))),n+r+_.gray(l||"")}paginateOptions(e){if(e.length===0)return _.red("No matches for this query.");let{startIndex:i,endIndex:s}=Zs(this.cursor,e.length,this.optionsPerPage),o,n=[];for(let r=i;r<s;r++)r===i&&i>0?o=H.arrowUp:r===s-1&&s<e.length?o=H.arrowDown:o=" ",n.push(this.renderOption(this.cursor,e[r],r,o));return`
`+n.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(i=>i.selected).map(i=>i.title).join(", ");const e=[_.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(_.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Gs.hide),super.render();let e=[ut.symbol(this.done,this.aborted),_.bold(this.msg),ut.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=_.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=ht(e,this.out.columns)}};var dt=Xs;const re=D,Qs=Y,{erase:er,cursor:ft}=I,{style:Ce,clear:pt,figures:Te,wrap:tr,entriesToDisplay:ir}=j,mt=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),sr=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),rr=(t,e)=>{const i=t.findIndex(s=>s.value===e||s.title===e);return i>-1?i:void 0};class nr extends Qs{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:rr(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=Ce.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=pt("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=mt(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){const i=this.completing=this.suggest(this.input,this.choices),s=await i;if(this.completing!==i)return;this.suggestions=s.map((n,r,l)=>({title:sr(l,r),value:mt(l,r),description:n.description})),this.completing=!1;const o=Math.max(s.length-1,0);this.moveSelect(Math.min(o,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,i){let s=this.input.slice(0,this.cursor),o=this.input.slice(this.cursor);this.input=`${s}${e}${o}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),i=this.input.slice(this.cursor);this.input=`${e}${i}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor+1);this.input=`${e}${i}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,i,s,o){let n,r=s?Te.arrowUp:o?Te.arrowDown:" ",l=i?re.cyan().underline(e.title):e.title;return r=(i?re.cyan(Te.pointer)+" ":"  ")+r,e.description&&(n=` - ${e.description}`,(r.length+l.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+tr(e.description,{margin:3,width:this.out.columns}))),r+" "+l+re.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(ft.hide):this.out.write(pt(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:i}=ir(this.select,this.choices.length,this.limit);if(this.outputText=[Ce.symbol(this.done,this.aborted,this.exited),re.bold(this.msg),Ce.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const s=this.suggestions.slice(e,i).map((o,n)=>this.renderOption(o,this.select===n+e,n===0&&e>0,n+e===i-1&&i<this.choices.length)).join(`
`);this.outputText+=`
`+(s||re.gray(this.fallback.title))}this.out.write(er.line+ft.to(0)+this.outputText)}}var or=nr;const L=D,{cursor:lr}=I,ar=dt,{clear:gt,style:vt,figures:K}=j;class cr extends ar{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=gt("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const i=this.filteredOptions.findIndex(s=>s===e);this.cursor=i<0?0:i,this.render()}handleSpaceToggle(){const e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,i){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${K.arrowUp}/${K.arrowDown}: Highlight option
    ${K.arrowLeft}/${K.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:L.gray("Enter something to filter")}
`}renderOption(e,i,s){let o;return i.disabled?o=e===s?L.gray().underline(i.title):L.strikethrough().gray(i.title):o=e===s?L.cyan().underline(i.title):i.title,(i.selected?L.green(K.radioOn):K.radioOff)+"  "+o}renderDoneOrInstructions(){if(this.done)return this.value.filter(i=>i.selected).map(i=>i.title).join(", ");const e=[L.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(L.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(lr.hide),super.render();let e=[vt.symbol(this.done,this.aborted),L.bold(this.msg),vt.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=L.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=gt(e,this.out.columns)}}var hr=cr;const wt=D,ur=Y,{style:bt,clear:dr}=j,{erase:fr,cursor:yt}=I;class pr extends ur{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,i){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(yt.hide):this.out.write(dr(this.outputText,this.out.columns)),super.render(),this.outputText=[bt.symbol(this.done,this.aborted),wt.bold(this.msg),bt.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:wt.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(fr.line+yt.to(0)+this.outputText))}}var mr=pr,gr={TextPrompt:Hi,SelectPrompt:Wi,TogglePrompt:Xi,DatePrompt:Ys,NumberPrompt:Ws,MultiselectPrompt:dt,AutocompletePrompt:or,AutocompleteMultiselectPrompt:hr,ConfirmPrompt:mr};(function(t){const e=t,i=gr,s=r=>r;function o(r,l,u={}){return new Promise((a,d)=>{const p=new i[r](l),c=u.onAbort||s,h=u.onSubmit||s,m=u.onExit||s;p.on("state",l.onState||s),p.on("submit",C=>a(h(C))),p.on("exit",C=>a(m(C))),p.on("abort",C=>d(c(C)))})}e.text=r=>o("TextPrompt",r),e.password=r=>(r.style="password",e.text(r)),e.invisible=r=>(r.style="invisible",e.text(r)),e.number=r=>o("NumberPrompt",r),e.date=r=>o("DatePrompt",r),e.confirm=r=>o("ConfirmPrompt",r),e.list=r=>{const l=r.separator||",";return o("TextPrompt",r,{onSubmit:u=>u.split(l).map(a=>a.trim())})},e.toggle=r=>o("TogglePrompt",r),e.select=r=>o("SelectPrompt",r),e.multiselect=r=>{r.choices=[].concat(r.choices||[]);const l=u=>u.filter(a=>a.selected).map(a=>a.value);return o("MultiselectPrompt",r,{onAbort:l,onSubmit:l})},e.autocompleteMultiselect=r=>{r.choices=[].concat(r.choices||[]);const l=u=>u.filter(a=>a.selected).map(a=>a.value);return o("AutocompleteMultiselectPrompt",r,{onAbort:l,onSubmit:l})};const n=(r,l)=>Promise.resolve(l.filter(u=>u.title.slice(0,r.length).toLowerCase()===r.toLowerCase()));e.autocomplete=r=>(r.suggest=r.suggest||n,r.choices=[].concat(r.choices||[]),o("AutocompletePrompt",r))})(Ge);const Pe=Ge,vr=["suggest","format","onState","validate","onRender","type"],$t=()=>{};async function B(t=[],{onSubmit:e=$t,onCancel:i=$t}={}){const s={},o=B._override||{};t=[].concat(t);let n,r,l,u,a,d;const p=async(c,h,m=!1)=>{if(!(!m&&c.validate&&c.validate(h)!==!0))return c.format?await c.format(h,s):h};for(r of t)if({name:u,type:a}=r,typeof a=="function"&&(a=await a(n,{...s},r),r.type=a),!!a){for(let c in r){if(vr.includes(c))continue;let h=r[c];r[c]=typeof h=="function"?await h(n,{...s},d):h}if(d=r,typeof r.message!="string")throw new Error("prompt message is required");if({name:u,type:a}=r,Pe[a]===void 0)throw new Error(`prompt type (${a}) is not defined`);if(o[r.name]!==void 0&&(n=await p(r,o[r.name]),n!==void 0)){s[u]=n;continue}try{n=B._injected?wr(B._injected,r.initial):await Pe[a](r),s[u]=n=await p(r,n,!0),l=await e(r,n,s)}catch{l=!await i(r,s)}if(l)return s}return s}function wr(t,e){const i=t.shift();if(i instanceof Error)throw i;return i===void 0?e:i}function br(t){B._injected=(B._injected||[]).concat(t)}function yr(t){B._override=Object.assign({},t)}var $r=Object.assign(B,{prompt:B,prompts:Pe,inject:br,override:yr});const xt=ee($r);let z=!0;const q=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let ne=0;if(q.process&&q.process.env&&q.process.stdout){const{FORCE_COLOR:t,NODE_DISABLE_COLORS:e,NO_COLOR:i,TERM:s,COLORTERM:o}=q.process.env;e||i||t==="0"?z=!1:t==="1"||t==="2"||t==="3"?z=!0:s==="dumb"?z=!1:"CI"in q.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(n=>n in q.process.env)?z=!0:z=process.stdout.isTTY,z&&(process.platform==="win32"||o&&(o==="truecolor"||o==="24bit")?ne=3:s&&(s.endsWith("-256color")||s.endsWith("256"))?ne=2:ne=1)}let St={enabled:z,supportLevel:ne};function de(t,e,i=1){const s=`\x1B[${t}m`,o=`\x1B[${e}m`,n=new RegExp(`\\x1b\\[${e}m`,"g");return r=>St.enabled&&St.supportLevel>=i?s+(""+r).replace(n,s)+o:""+r}const xr=de(0,0),Et=de(31,39),A=de(33,39),Z=de(36,39);var X={exports:{}},Me,Ot;function Sr(){if(Ot)return Me;Ot=1,Me=s,s.sync=o;var t=ge;function e(n,r){var l=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!l||(l=l.split(";"),l.indexOf("")!==-1))return!0;for(var u=0;u<l.length;u++){var a=l[u].toLowerCase();if(a&&n.substr(-a.length).toLowerCase()===a)return!0}return!1}function i(n,r,l){return!n.isSymbolicLink()&&!n.isFile()?!1:e(r,l)}function s(n,r,l){t.stat(n,function(u,a){l(u,u?!1:i(a,n,r))})}function o(n,r){return i(t.statSync(n),n,r)}return Me}var De,Ct;function Er(){if(Ct)return De;Ct=1,De=e,e.sync=i;var t=ge;function e(n,r,l){t.stat(n,function(u,a){l(u,u?!1:s(a,r))})}function i(n,r){return s(t.statSync(n),r)}function s(n,r){return n.isFile()&&o(n,r)}function o(n,r){var l=n.mode,u=n.uid,a=n.gid,d=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),p=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),c=parseInt("100",8),h=parseInt("010",8),m=parseInt("001",8),C=c|h,R=l&m||l&h&&a===p||l&c&&u===d||l&C&&d===0;return R}return De}var fe;process.platform==="win32"||si.TESTING_WINDOWS?fe=Sr():fe=Er();var Or=Ie;Ie.sync=Cr;function Ie(t,e,i){if(typeof e=="function"&&(i=e,e={}),!i){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(s,o){Ie(t,e||{},function(n,r){n?o(n):s(r)})})}fe(t,e||{},function(s,o){s&&(s.code==="EACCES"||e&&e.ignoreErrors)&&(s=null,o=!1),i(s,o)})}function Cr(t,e){try{return fe.sync(t,e||{})}catch(i){if(e&&e.ignoreErrors||i.code==="EACCES")return!1;throw i}}const Q=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Tt=me,Tr=Q?";":":",Pt=Or,Mt=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Dt=(t,e)=>{const i=e.colon||Tr,s=t.match(/\//)||Q&&t.match(/\\/)?[""]:[...Q?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(i)],o=Q?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",n=Q?o.split(i):[""];return Q&&t.indexOf(".")!==-1&&n[0]!==""&&n.unshift(""),{pathEnv:s,pathExt:n,pathExtExe:o}},It=(t,e,i)=>{typeof e=="function"&&(i=e,e={}),e||(e={});const{pathEnv:s,pathExt:o,pathExtExe:n}=Dt(t,e),r=[],l=a=>new Promise((d,p)=>{if(a===s.length)return e.all&&r.length?d(r):p(Mt(t));const c=s[a],h=/^".*"$/.test(c)?c.slice(1,-1):c,m=Tt.join(h,t),C=!h&&/^\.[\\\/]/.test(t)?t.slice(0,2)+m:m;d(u(C,a,0))}),u=(a,d,p)=>new Promise((c,h)=>{if(p===o.length)return c(l(d+1));const m=o[p];Pt(a+m,{pathExt:n},(C,R)=>{if(!C&&R)if(e.all)r.push(a+m);else return c(a+m);return c(u(a,d,p+1))})});return i?l(0).then(a=>i(null,a),i):l(0)},Pr=(t,e)=>{e=e||{};const{pathEnv:i,pathExt:s,pathExtExe:o}=Dt(t,e),n=[];for(let r=0;r<i.length;r++){const l=i[r],u=/^".*"$/.test(l)?l.slice(1,-1):l,a=Tt.join(u,t),d=!u&&/^\.[\\\/]/.test(t)?t.slice(0,2)+a:a;for(let p=0;p<s.length;p++){const c=d+s[p];try{if(Pt.sync(c,{pathExt:o}))if(e.all)n.push(c);else return c}catch{}}}if(e.all&&n.length)return n;if(e.nothrow)return null;throw Mt(t)};var Mr=It;It.sync=Pr;var je={exports:{}};const jt=(t={})=>{const e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(s=>s.toUpperCase()==="PATH")||"Path"};je.exports=jt,je.exports.default=jt;var Dr=je.exports;const _t=me,Ir=Mr,jr=Dr;function At(t,e){const i=t.options.env||process.env,s=process.cwd(),o=t.options.cwd!=null,n=o&&process.chdir!==void 0&&!process.chdir.disabled;if(n)try{process.chdir(t.options.cwd)}catch{}let r;try{r=Ir.sync(t.command,{path:i[jr({env:i})],pathExt:e?_t.delimiter:void 0})}catch{}finally{n&&process.chdir(s)}return r&&(r=_t.resolve(o?t.options.cwd:"",r)),r}function _r(t){return At(t)||At(t,!0)}var Ar=_r,_e={};const Ae=/([()\][%!^"`<>&|;, *?])/g;function Rr(t){return t=t.replace(Ae,"^$1"),t}function Fr(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(Ae,"^$1"),e&&(t=t.replace(Ae,"^$1")),t}_e.command=Rr,_e.argument=Fr;var Nr=/^#!(.*)/;const kr=Nr;var Lr=(t="")=>{const e=t.match(kr);if(!e)return null;const[i,s]=e[0].replace(/#! ?/,"").split(" "),o=i.split("/").pop();return o==="env"?s:s?`${o} ${s}`:o};const Re=ge,Yr=Lr;function Hr(t){const i=Buffer.alloc(150);let s;try{s=Re.openSync(t,"r"),Re.readSync(s,i,0,150,0),Re.closeSync(s)}catch{}return Yr(i.toString())}var Br=Hr;const Vr=me,Rt=Ar,Ft=_e,Jr=Br,Ur=process.platform==="win32",zr=/\.(?:com|exe)$/i,Wr=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Gr(t){t.file=Rt(t);const e=t.file&&Jr(t.file);return e?(t.args.unshift(t.file),t.command=e,Rt(t)):t.file}function Kr(t){if(!Ur)return t;const e=Gr(t),i=!zr.test(e);if(t.options.forceShell||i){const s=Wr.test(e);t.command=Vr.normalize(t.command),t.command=Ft.command(t.command),t.args=t.args.map(n=>Ft.argument(n,s));const o=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${o}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function qr(t,e,i){e&&!Array.isArray(e)&&(i=e,e=null),e=e?e.slice(0):[],i=Object.assign({},i);const s={command:t,args:e,options:i,file:void 0,original:{command:t,args:e}};return i.shell?s:Kr(s)}var Zr=qr;const Fe=process.platform==="win32";function Ne(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function Xr(t,e){if(!Fe)return;const i=t.emit;t.emit=function(s,o){if(s==="exit"){const n=Nt(o,e);if(n)return i.call(t,"error",n)}return i.apply(t,arguments)}}function Nt(t,e){return Fe&&t===1&&!e.file?Ne(e.original,"spawn"):null}function Qr(t,e){return Fe&&t===1&&!e.file?Ne(e.original,"spawnSync"):null}var en={hookChildProcess:Xr,verifyENOENT:Nt,verifyENOENTSync:Qr,notFoundError:Ne};const kt=ii,ke=Zr,Le=en;function Lt(t,e,i){const s=ke(t,e,i),o=kt.spawn(s.command,s.args,s.options);return Le.hookChildProcess(o,s),o}function tn(t,e,i){const s=ke(t,e,i),o=kt.spawnSync(s.command,s.args,s.options);return o.error=o.error||Le.verifyENOENTSync(o.status,s),o}X.exports=Lt,X.exports.spawn=Lt,X.exports.sync=tn,X.exports._parse=ke,X.exports._enoent=Le;var sn=X.exports;const Yt=ee(sn),rn={_gitignore:".gitignore",package_json:"package.json"};function Ht(t){return/^(?:@[a-z\d\-*~][a-z\d\-*._~]*\/)?[a-z\d\-~][a-z\d\-._~]*$/.test(t)}function nn(t){return t.trim().toLowerCase().replace(/\s+/g,"-").replace(/^[._]/,"").replace(/[^a-z\d\-~]+/g,"-")}function Bt(t){return t?.trim().replace(/\/+$/g,"")}function on(t){const e=b.readdirSync(t);return e.length===0||e.length===1&&e[0]===".git"}function ln(t){if(!t)return;const e=t.split(" ")[0].split("/");return{name:e[0],version:e[1]}}function an(t){if(b.existsSync(t))for(const e of b.readdirSync(t))e!==".git"&&b.rmSync(F.resolve(t,e),{recursive:!0,force:!0})}function cn(t,e){b.mkdirSync(e,{recursive:!0});for(const i of b.readdirSync(t)){const s=F.resolve(t,i),o=F.resolve(e,i);Vt(s,o)}}const oe=(t,e,i)=>{const{templateDir:s,root:o}=e,n=F.join(o,rn[t]??t);i?b.writeFileSync(n,i):Vt(F.join(s,t),n)};function Vt(t,e){b.statSync(t).isDirectory()?cn(t,e):b.copyFileSync(t,e)}function Jt(t,e,i,s=!1){return s?Yt.sync(t,e,{stdio:"inherit",...i}):Yt(t,e,{stdio:"inherit",...i})}function hn(t){let e="";for(const[i,s]of Object.entries(t))e+=`  \v"${i}": path.resolve(__dirname, './${s}'),
`;return e}function Ut(t){const e={};for(const[i,s]of Object.entries(t))e[`${i}/*`]=[`./${s}/*`];return e}const zt=new RegExp(/~~(.*?)~~/g);function Wt(t,e){let i=t;return i=i.replace(zt,s=>{const o=s.replace(/~/g,"");return e[o]??s}),i}function un(t){return t.replace(zt,"")}const dn={dependencies:["react","react-dom","react-router-dom","axios"],devDependencies:["eslint","prettier","eslint-config-prettier","eslint-plugin-prettier","eslint-plugin-react","vite","@vitejs/plugin-react","lint-staged","husky","stylelint","stylelint-config-standard-scss","vitest"],eslint:{extends:["eslint:recommended","plugin:react/recommended","plugin:prettier/recommended"],plugins:["react","react-hooks"],rules:{"react-hooks/rules-of-hooks":"error","react-hooks/exhaustive-deps":"warn","react/prop-types":"off","react/react-in-jsx-scope":"off"}}},fn={eslint:{extends:["plugin:tailwindcss/recommended"],plugins:["tailwindcss","prettier-plugin-tailwindcss"],rules:{"tailwindcss/classnames-order":"warn","tailwindcss/no-custom-classname":"warn","tailwindcss/no-contradicting-classname":"error"}},dependencies:[],devDependencies:["tailwindcss","@tailwindcss/vite","prettier-plugin-tailwindcss"]},pn={dependencies:[],devDependencies:["@types/node","@types/react","@types/react-dom","@typescript-eslint/eslint-plugin","@typescript-eslint/parser","typescript","vite-tsconfig-paths"],eslint:{extends:["plugin:@typescript-eslint/eslint-recommended","plugin:@typescript-eslint/recommended"],plugins:["@typescript-eslint"],rules:{"@typescript-eslint/explicit-module-boundary-types":"off","@typescript-eslint/no-non-null-assertion":"off"}}},mn={dependencies:["@mui/material","@emotion/react","@emotion/styled","@mui/icons-material","@fontsource/roboto"],devDependencies:[],eslint:[]},Gt={common:dn,tailwind:fn,typescript:pn,mui:mn},gn=["@mui/material","@emotion/react","@emotion/styled","@mui/icons-material","@fontsource/roboto"],vn=["mui-import","mui-theme-import","mui-open-tag","mui-close-tag"],wn=["mui-style-engine-open-tag","mui-style-engine-close-tag"],bn=`@layer theme, base, components, utilities;
@import 'tailwindcss/theme.css' layer(theme);
@import 'tailwindcss/utilities.css' layer(utilities);`,Ye={dependencies:gn,muiImports:vn,muiTailwindImports:wn,indexCSS:bn},yn={"tailwind.config.js":`/** @type {import('tailwindcss').Config} */ 
module.exports = {content: ['./index.html','./src/**/*.{js,ts,jsx,tsx}'],theme: {extend: {},},plugins: []}`,"postcss.config.js":"export default {plugins: {tailwindcss: {},autoprefixer: {},},}","src/index.css":"@import 'tailwindcss';"},$n={files:yn};var xn={"main-ts-non-null":"!","mui-import":"import { ThemeProvider, StyledEngineProvider } from '@mui/material/styles';","mui-theme-import":"import theme from './theme';","mui-style-engine-open-tag":"<StyledEngineProvider injectFirst>","mui-style-engine-close-tag":"</StyledEngineProvider>","mui-open-tag":"<ThemeProvider theme={theme}>","mui-close-tag":"</ThemeProvider>","react-router-import":"import { BrowserRouter as Router } from 'react-router-dom'","router-open-tag":"<Router>","router-close-tag":"</Router>"};const Kt=ee(xn),He={main:{files:[],references:[{path:"./tsconfig.app.json"},{path:"./tsconfig.node.json"}]},app:{compilerOptions:{tsBuildInfoFile:"./node_modules/.tmp/tsconfig.app.tsbuildinfo",target:"ES2020",useDefineForClassFields:!0,lib:["ES2020","DOM","DOM.Iterable"],module:"ESNext",skipLibCheck:!0,moduleResolution:"bundler",allowImportingTsExtensions:!0,isolatedModules:!0,moduleDetection:"force",noEmit:!0,jsx:"react-jsx",strict:!0,noUnusedLocals:!0,noUnusedParameters:!0,noFallthroughCasesInSwitch:!0,noUncheckedSideEffectImports:!0,paths:[]},include:["src"]},node:{compilerOptions:{tsBuildInfoFile:"./node_modules/.tmp/tsconfig.node.tsbuildinfo",target:"ES2022",lib:["ES2023"],module:"ESNext",skipLibCheck:!0,moduleResolution:"bundler",allowImportingTsExtensions:!0,isolatedModules:!0,moduleDetection:"force",noEmit:!0,strict:!0,noUnusedLocals:!0,noUnusedParameters:!0,noFallthroughCasesInSwitch:!0,noUncheckedSideEffectImports:!0},include:["vite.config.ts"]}},Sn={react:"^19.0.0","react-dom":"^19.0.0","react-router-dom":"^7.1.5",axios:"^1.7.9","@mui/material":"^6.4.4","@emotion/react":"^11.14.0","@emotion/styled":"^11.14.0","@mui/icons-material":"^6.4.4","@fontsource/roboto":"^5.1.1"},En={eslint:"^9.20.1",prettier:"^3.5.0","eslint-config-prettier":"^10.0.1","eslint-plugin-prettier":"^5.2.3","eslint-plugin-react":"^7.37.4",vite:"^6.1.0","@vitejs/plugin-react":"^4.3.4","lint-staged":"^15.4.3",husky:"^9.1.7","@tailwindcss/vite":"^4.0.6",tailwindcss:"^4.0.6","prettier-plugin-tailwindcss":"^0.6.11","@types/node":"^22.13.2","@types/react":"^19.0.8","@types/react-dom":"^19.0.3","@typescript-eslint/eslint-plugin":"^8.24.0","@typescript-eslint/parser":"^8.24.0",typescript:"^5.7.3","vite-tsconfig-paths":"^5.1.4",vitest:"^3.0.7",stylelint:"^16.14.1","stylelint-config-standard-scss":"^14.0.0"},qt={dependencies:Sn,devDependencies:En},On="tsc --project tsconfig.json --noEmit",Zt={"typescript-build":"tsc -b && vite build",typecheck:On};var Cn={"@":"src","@components":"src/components","@pages":"src/pages","@layouts":"src/layouts"};const Be=ee(Cn),Tn=`
import { StrictMode } from 'react';
import { createRoot } from 'react-dom/client'; 
~~react-router-import~~
~~mui-import~~
~~mui-theme-import~~

import App from './App'; 
import './index.css';

createRoot(document.getElementById('root')~~main-ts-non-null~~).render(
  <StrictMode>
    ~~mui-style-engine-open-tag~~
      ~~mui-open-tag~~
        ~~router-open-tag~~
          <App />
        ~~router-close-tag~~
      ~~mui-close-tag~~
    ~~mui-style-engine-close-tag~~
  </StrictMode>
);
`,Pn=`
  function App() {
    return (
      <div>
        <h1>Hello world</h1>
      </div>
    );
  }
  export default App;
`,Mn=`
  import { defineConfig } from 'vite';
  import react from '@vitejs/plugin-react';
  ~~vite-imports~~

  // https://vitejs.dev/config/
  export default defineConfig({
    plugins: [react(), ~~vite-plugins~~],
    ~~vite-resolve-alias~~
  });
`,Ve=oi(process.argv.slice(2),{default:{help:!1},alias:{h:"help"},string:["_"]}),Dn=process.cwd(),In=`Usage: create-app [OPTION]... [DIRECTORY]

Create a new Vite project in JavaScript or TypeScript.
With no arguments, start the CLI in interactive mode.
`,jn="react-project";async function _n(){const t=Bt(Ve._[0])||"",{help:e}=Ve;if(e){console.log(`${A(In)}`);return}let i=t||jn;const s=()=>i==="."?F.basename(F.resolve()):i;let o;xt.override({overwrite:Ve.overwrite});try{o=await xt([{type:"text",name:"projectName",message:Z("Project name : "),initial:i,onState:w=>{i=Bt(w.value)||i}},{type:()=>!b.existsSync(i)||on(i)?null:"select",name:"overwrite",message:()=>Z((i==="."?"Current directory":`Target directory "${i}"`)+" is not empty. Please choose how to proceed : "),initial:0,choices:[{title:A("Remove existing files and continue"),value:"yes"},{title:A("Cancel operation"),value:"no"},{title:A("Ignore files and continue"),value:"ignore"}]},{type:(w,{overwrite:T})=>{if(T==="no")throw new Error(Et("\u2716")+" Operation cancelled");return null},name:"overwriteChecker"},{type:()=>Ht(s())?null:"text",name:"packageName",message:Z("Package name : "),initial:()=>nn(s()),validate:w=>Ht(w)||"Invalid package.json name"},{type:"select",name:"typescript",message:Z("Do you want to have TypeScript ? "),initial:0,choices:[{title:A("Yes"),value:!0},{title:A("No"),value:!1}]},{type:"select",name:"uiLibrary",message:Z("Please select an ui library of your choice : "),initial:0,choices:[{title:A("None"),value:"none"},{title:A("MUI"),value:"mui"}]},{type:"select",name:"tailwindCSS",message:Z("Do you want to have Tailwind CSS ? "),initial:0,choices:[{title:A("Yes"),value:!0},{title:A("No"),value:!1}]}],{onCancel:()=>{throw new Error(Et("\u2716")+" Operation cancelled")}})}catch(w){console.log(w.message);return}const{overwrite:n,packageName:r,tailwindCSS:l,typescript:u,uiLibrary:a}=o,d=F.join(Dn,i);n==="yes"?an(d):b.existsSync(d)||b.mkdirSync(d,{recursive:!0});const p=ln(process.env.npm_MAIN_CONFIG_user_agent);p&&p.name;const c=[".eslintrc","package.json","vite.config.js"];let h=Tn;console.log(`${xr(`
Scaffolding project in ${d}...
`)}`);const m=F.resolve(Qt(import.meta.url),"./..","template-main"),{eslint:C,...R}=Gt.common;let S=await b.promises.readFile(`${m}/.eslintrc`,"utf8");S={...JSON.parse(S),...C};let W=await b.promises.readFile(`${m}/package_json`,"utf8"),E=Mn;const f=[],x=[],O={...JSON.parse(W),...R,name:r||i},g=`${d}/src`;b.existsSync(g)||b.mkdirSync(g,{recursive:!0}),b.writeFileSync(`${d}/src/index.css`,"");try{const w=`${d}/src/App.${u?"tsx":"jsx"}`;b.writeFileSync(w,Pn)}catch(w){console.error(w)}if(l&&(Je({eslintrc:S,packageJson:O},"tailwind"),f.push("import tailwindcss from '@tailwindcss/vite'"),x.push("tailwindcss()"),oe("src/index.css",{root:d,templateDir:m},$n.files["src/index.css"])),a!=="none"&&a==="mui"){Je({eslintrc:S,packageJson:O},"mui");const w={};Ye.muiImports.forEach(T=>{const J=Kt[T];J&&(w[T]=J)}),l&&Ye.muiTailwindImports.forEach(T=>{const J=Kt[T];J&&(w[T]=J)}),h=Wt(h,w),oe("src/theme.ts",{root:d,templateDir:m},`import { createTheme } from '@mui/material';
const theme = createTheme({});
export default theme;`),l&&oe("src/index.css",{root:d,templateDir:m},Ye.indexCSS)}if(u){Je({eslintrc:S,packageJson:O},"typescript");const w=m+"/index.html",T={...He.app},J=Ut(Be);T.compilerOptions.paths={...T.compilerOptions.paths,...J};let pe=await b.promises.readFile(w,"utf8");pe=pe.replace("src/main.jsx","src/main.tsx"),h=h.replace("~~main-ts-non-null~~","!"),b.writeFileSync(`${d}/tsconfig.json`,JSON.stringify(He.main)),b.writeFileSync(`${d}/tsconfig.app.json`,JSON.stringify(T)),b.writeFileSync(`${d}/tsconfig.node.json`,JSON.stringify(He.node)),b.writeFileSync(`${d}/src/vite-env.d.ts`,'/// <reference types="vite/client" />'),O.scripts.build=Zt["typescript-build"],O.scripts.typecheck=Zt.typecheck,b.writeFileSync(`${d}/index.html`,pe),c.push("index.html")}else{const w={},T=Ut(Be);w.compilerOptions={paths:{...T}},b.writeFileSync(`${d}/jsconfig.json`,JSON.stringify(w))}await An({packageJson:O}),h=un(h);try{const w=`${d}/src/main.${u?"tsx":"jsx"}`;b.writeFileSync(w,h)}catch(w){console.error(w)}f.push("import path from 'path'");const V=`resolve: {
      alias: {
        ${hn(Be)}
      }
    }`,P={"vite-imports":f.join(`
`),"vite-plugins":x.join(", "),"vite-resolve-alias":V};E=Wt(E,P);const M=b.readdirSync(m);for(const w of M.filter(T=>!c.includes(T)))oe(w,{templateDir:m,root:d});const Xt=[{filename:".eslintrc",content:JSON.stringify(S,null,2)},{filename:"package.json",content:JSON.stringify(O,null,2)},{filename:"vite.config.js",content:E}];for(const w of Xt)oe(w.filename,{templateDir:m,root:d},w.content);Jt("npx",["--yes","prettier","--log-level","silent","--config",`${d}/.prettierrc`,"--write",`${d}`],{cwd:d}),Jt("git",["init","--quiet"],{cwd:d})}async function Je({eslintrc:t,packageJson:e},i){const{eslint:s,...o}=Gt[i];Object.entries(o).map(([n,r])=>{e[n]=[...new Set([...e[n],...r])]}),Object.entries(s).map(([n,r])=>{Array.isArray(r)?t[n]=[...new Set([...t[n],...r])]:typeof r=="string"?t[n]=r:t[n]={...t[n],...r}})}async function An({packageJson:t}){const e=[...t.dependencies],i=[...t.devDependencies];t.dependencies={},t.devDependencies={};for(const s of e)t.dependencies[s]=`${qt.dependencies[s]}`;for(const s of i)t.devDependencies[s]=`${qt.devDependencies[s]}`}_n().catch(t=>{console.error(t)});
